{% extends "base.html" %}

{% block title %}Hasta Düzenle{% endblock %}

{% block content %}
<div class="container">
    <h2 class="my-4">Hasta Düzenle</h2>
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    <div class="alert-container">
        {% for category, message in messages %}
        <div class="alert alert-{{ category }}" role="alert">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}
    {% endwith %}
    <form action="{{ url_for('app_bp.patient_bp.update_patient_route', id=patient.id) }}" method="post">
        <div class="row">
            <div class="col-sm">
                <div class="form-group">
                    <label for="protokol"><i class="fas fa-birthday-cake"></i> Protokol:</label>
                    <input type="number" autocomplete="off" class="form-control" name="protokol" id="protokol"
                        value="{{patient.protokol}}" required>
                </div>
                <div class="form-group">
                    <label for="age"><i class="fas fa-birthday-cake"></i> Yaş:</label>
                    <input type="number" class="form-control" id="age" name="age" value="{{ patient.age }}" required>
                </div>
                <div class="form-group">
                    <label for="gender"><i class="fas fa-venus-mars"></i> Cinsiyet:</label>
                    <select class="form-control" id="gender" name="gender">
                        <option value="Erkek" {% if patient.gender=='male' %}selected{% endif %}>Erkek</option>
                        <option value="Kadın" {% if patient.gender=='female' %}selected{% endif %}>Kadın</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="complaints"><i class="fas fa-heartbeat"></i> Şikayetler:</label>
                    <input type="text" class="form-control" id="complaints" name="complaints"
                        value="{{ patient.complaints }}" required>
                </div>
                <div class="form-group">
                    <label for="duration"><i class="fas fa-stopwatch"></i> Şikayet Süresi:</label>
                    <input type="text" class="form-control" id="duration" name="duration" value="{{ patient.duration }}"
                        required>
                </div>
                <div class="form-group">
                    <label for="bloodPressure"><i class="fas fa-tint"></i> Kan Basıncı:</label>
                    <input type="text" class="form-control" id="bloodPressure" name="bloodPressure"
                        value="{{ patient.blood_pressure }}">
                </div>
                <div class="form-group">
                    <label for="pulse"><i class="fas fa-heartbeat"></i> Nabız:</label>
                    <input type="text" class="form-control" id="pulse" name="pulse" value="{{ patient.pulse }}">
                </div>
                <div class="form-group">
                    <label for="respiratoryRate"><i class="fas fa-lungs"></i> Solunum Hızı:</label>
                    <input type="text" class="form-control" id="respiratoryRate" name="respiratoryRate"
                        value="{{ patient.respiratory_rate }}">
                </div>
                <div class="form-group">
                    <label for="triaj"><i class="fas fa-file-alt"></i> Triaj:</label>
                    <select class="form-control" id="triaj" name="triaj">
                        <option value="Belirtilmemiş" {% if not patient.triaj %}selected{% endif %}>Belirtilmemiş</option>
                        <option value="Kırmızı" {% if patient.triaj=='Kırmızı' %}selected{% endif %}>Kırmızı</option>
                        <option value="Sarı" {% if patient.triaj=='Sarı' %}selected{% endif %}>Sarı</option>
                        <option value="Yeşil" {% if patient.triaj=='Yeşil' %}selected{% endif %}>Yeşil</option>
                    </select>
                </div>
            </div>
            <div class="col-sm">
                <div class="form-group">
                    <label for="temperature"><i class="fas fa-thermometer-half"></i> Vücut Sıcaklığı:</label>
                    <input type="text" class="form-control" id="temperature" name="temperature"
                        value="{{ patient.temperature }}">
                </div>
                <div class="form-group">
                    <label for="saturation"><i class="fas fa-lungs"></i> Oksijen Satürasyonu:</label>
                    <input type="text" class="form-control" id="saturation" name="saturation"
                        value="{{ patient.saturation }}">
                </div>
                <div class="form-group">
                    <label for="chronicDiseases"><i class="fas fa-diagnoses"></i> Kronik Hastalıklar:</label>
                    <input type="text" class="form-control" id="chronicDiseases" name="chronicDiseases"
                        value="{{ patient.chronic_diseases }}">
                </div>
                <div class="form-group">
                    <label for="medications"><i class="fas fa-pills"></i> Kullanılan İlaçlar:</label>
                    <input type="text" class="form-control" id="medications" name="medications"
                        value="{{ patient.medications }}">
                </div>
                <div class="form-group">
                    <label for="allergyHistory"><i class="fas fa-allergies"></i> Alerji Geçmişi:</label>
                    <input type="text" class="form-control" id="allergyHistory" name="allergyHistory"
                        value="{{ patient.allergy_history }}">
                </div>
                <div class="form-group">
                    <label for="surgicalHistory"><i class="fas fa-cut"></i> Ameliyat Geçmişi:</label>
                    <input type="text" class="form-control" id="surgicalHistory" name="surgicalHistory"
                        value="{{ patient.surgical_history }}">
                </div>
                <div class="form-group">
                    <label for="summary"><i class="fas fa-file-alt"></i> Özet:</label>
                    <input type="text" class="form-control" id="summary" name="summary" value="{{ patient.summary }}">
                </div>
                <div class="form-group">
                    <label for="service_coming"><i class="fas fa-venus-mars"></i> Geliş Şekli:</label>
                    <select class="form-control" id="service_coming" name="service_coming">
                        <option value="Kendi" {% if patient.service_coming=='kendi' %}selected{% endif %}>Kendi imkanı
                        </option>
                        <option value="112" {% if patient.service_coming=='112' %}selected{% endif %}>112 ile</option>
                        <option value="Sevk" {% if patient.service_coming=='sevk' %}selected{% endif %}>Sevk</option>
                    </select>
                </div>

                <div class="col mt-5 mb-3">
                    <button type="submit" class="btn btn-primary btn-block">Güncelle <i
                            class="fas fa-chevron-circle-right"></i></button>
                </div>

            </div>
        </div>

    </form>
</div>
{% endblock %}